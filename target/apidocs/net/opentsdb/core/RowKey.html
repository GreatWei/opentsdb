<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_221) on Thu Apr 21 14:51:25 CST 2022 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RowKey (OpenTSDB 2.4.1 API)</title>
<meta name="date" content="2022-04-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RowKey (OpenTSDB 2.4.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/RowKey.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/core/RequestBuilder.html" title="net.opentsdb.core中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../net/opentsdb/core/RowKey.SaltCmp.html" title="net.opentsdb.core中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/core/RowKey.html" target="_top">框架</a></li>
<li><a href="RowKey.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.opentsdb.core</div>
<h2 title="类 RowKey" class="title">类 RowKey</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.opentsdb.core.RowKey</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">RowKey</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block">Helper functions to deal with the row key.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/RowKey.SaltCmp.html" title="net.opentsdb.core中的类">RowKey.SaltCmp</a></span></code>
<div class="block">A comparator that ignores the salt in row keys</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/RowKey.html#getSaltBytes-int-">getSaltBytes</a></span>(int&nbsp;bucket)</code>
<div class="block">Returns the byte array for the given salt id
 WARNING: Don't use this one unless you know what you're doing.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/RowKey.html#metricNameAsync-net.opentsdb.core.TSDB-byte:A-">metricNameAsync</a></span>(<a href="../../../net/opentsdb/core/TSDB.html" title="net.opentsdb.core中的类">TSDB</a>&nbsp;tsdb,
               byte[]&nbsp;row)</code>
<div class="block">Extracts the name of the metric ID contained in a row key.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/RowKey.html#prefixKeyWithSalt-byte:A-">prefixKeyWithSalt</a></span>(byte[]&nbsp;row_key)</code>
<div class="block">Calculates and writes an array of one or more salt bytes at the front of
 the given row key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/RowKey.html#rowKeyContainsMetric-byte:A-byte:A-">rowKeyContainsMetric</a></span>(byte[]&nbsp;metric,
                    byte[]&nbsp;row_key)</code>
<div class="block">Checks a row key to determine if it contains the metric UID.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/RowKey.html#rowKeyFromTSUID-net.opentsdb.core.TSDB-byte:A-long-">rowKeyFromTSUID</a></span>(<a href="../../../net/opentsdb/core/TSDB.html" title="net.opentsdb.core中的类">TSDB</a>&nbsp;tsdb,
               byte[]&nbsp;tsuid,
               long&nbsp;timestamp)</code>
<div class="block">Generates a row key given a TSUID and an absolute timestamp.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang中的类或接口">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang中的类或接口">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang中的类或接口">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang中的类或接口">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang中的类或接口">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang中的类或接口">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang中的类或接口">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang中的类或接口">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang中的类或接口">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang中的类或接口">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="metricNameAsync-net.opentsdb.core.TSDB-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metricNameAsync</h4>
<pre>public static&nbsp;com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&gt;&nbsp;metricNameAsync(<a href="../../../net/opentsdb/core/TSDB.html" title="net.opentsdb.core中的类">TSDB</a>&nbsp;tsdb,
                                                                     byte[]&nbsp;row)</pre>
<div class="block">Extracts the name of the metric ID contained in a row key.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>tsdb</code> - The TSDB to use.</dd>
<dd><code>row</code> - The actual row key.</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>A deferred to wait on that will return the name of the metric.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="java.lang中的类或接口">IllegalArgumentException</a></code> - if the row key is too short due to missing
 salt or metric or if it's null/empty.</dd>
<dd><code><a href="../../../net/opentsdb/uid/NoSuchUniqueId.html" title="net.opentsdb.uid中的类">NoSuchUniqueId</a></code> - if the UID could not resolve to a string</dd>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>1.2</dd>
</dl>
</li>
</ul>
<a name="rowKeyFromTSUID-net.opentsdb.core.TSDB-byte:A-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rowKeyFromTSUID</h4>
<pre>public static&nbsp;byte[]&nbsp;rowKeyFromTSUID(<a href="../../../net/opentsdb/core/TSDB.html" title="net.opentsdb.core中的类">TSDB</a>&nbsp;tsdb,
                                     byte[]&nbsp;tsuid,
                                     long&nbsp;timestamp)</pre>
<div class="block">Generates a row key given a TSUID and an absolute timestamp. The timestamp
 will be normalized to an hourly base time. If salting is enabled then
 empty salt bytes will be prepended to the key and must be filled in later.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>tsdb</code> - The TSDB to use for fetching tag widths</dd>
<dd><code>tsuid</code> - The TSUID to use for the key</dd>
<dd><code>timestamp</code> - An absolute time from which we generate the row base time</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>A row key for use in fetching data from OpenTSDB</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="java.lang中的类或接口">IllegalArgumentException</a></code> - if the TSUID is too short, i.e. doesn't
 contain a metric</dd>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>2.0</dd>
</dl>
</li>
</ul>
<a name="getSaltBytes-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSaltBytes</h4>
<pre>public static&nbsp;byte[]&nbsp;getSaltBytes(int&nbsp;bucket)</pre>
<div class="block">Returns the byte array for the given salt id
 WARNING: Don't use this one unless you know what you're doing. It's here
 for unit testing.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>bucket</code> - The ID of the bucket to get the salt for</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>The salt as a byte array based on the width in bytes</dd>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>2.2</dd>
</dl>
</li>
</ul>
<a name="prefixKeyWithSalt-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prefixKeyWithSalt</h4>
<pre>public static&nbsp;void&nbsp;prefixKeyWithSalt(byte[]&nbsp;row_key)</pre>
<div class="block">Calculates and writes an array of one or more salt bytes at the front of
 the given row key. 
 
 The salt is calculated by taking the Java hash code of the metric and 
 tag UIDs and returning a modulo based on the number of salt buckets.
 The result will always be a positive integer from 0 to salt buckets.
 
 NOTE: The row key passed in MUST have allocated the <code>width</code> number of
 bytes at the front of the row key or this call will overwrite data.
 
 WARNING: If the width is set to a positive value, then the bucket must be
 at least 1 or greater.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>row_key</code> - The pre-allocated row key to write the salt to</dd>
<dt><span class="simpleTagLabel">从以下版本开始:</span></dt>
<dd>2.2</dd>
</dl>
</li>
</ul>
<a name="rowKeyContainsMetric-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>rowKeyContainsMetric</h4>
<pre>public static&nbsp;int&nbsp;rowKeyContainsMetric(byte[]&nbsp;metric,
                                       byte[]&nbsp;row_key)</pre>
<div class="block">Checks a row key to determine if it contains the metric UID. If salting is
 enabled, we skip the salt bytes.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>metric</code> - The metric UID to match</dd>
<dd><code>row_key</code> - The row key to match on</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>0 if the two arrays are identical, otherwise the difference
 between the first two different bytes (treated as unsigned), otherwise
 the different between their lengths.</dd>
<dt><span class="throwsLabel">抛出:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IndexOutOfBoundsException.html?is-external=true" title="java.lang中的类或接口">IndexOutOfBoundsException</a></code> - if either array isn't large enough.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/RowKey.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/core/RequestBuilder.html" title="net.opentsdb.core中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../net/opentsdb/core/RowKey.SaltCmp.html" title="net.opentsdb.core中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/core/RowKey.html" target="_top">框架</a></li>
<li><a href="RowKey.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested.class.summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 漏 2010-2022,             The OpenTSDB Authors</small></p>
</body>
</html>
